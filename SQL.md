[TOC]



# 0. 版权声明

- SQL 系列读书笔记来源于 Ben Forta 所著《SQL 必知必会》[1]；
- 该系列笔记不以盈利为目的，仅用于个人学习、课后复习及科学研究；
- 如有侵权，请与本人联系（hqpan0@gmail.com），经核实后即刻删除；



# 1. SQL 基础

## 1.1 术语

|    英文     | 中文 |                          释义                           |
| :---------: | :--: | :-----------------------------------------------------: |
|   column    |  列  |         表中的一个字段，每列都有相应的数据类型          |
| primary key | 主键 |                            -                            |
|     row     |  行  |          表中的一个记录（record，非正式用语）           |
|   schema    | 模式 |                            -                            |
|    table    |  表  | 类似于EXCEL中的一张表，存储某种特定类型数据的结构化清单 |



## 1.2 概念释义

- DBMS 与 SQL 的区别：
  - DBMS：数据库管理系统，指数据库软件；
  - SQL：Structured Query Language，结构化查询语言；
- 模式：
  - 可用于描述表的特性，包括表中包含何种数据、数据如何分解、如何存储、各部分信息如何命名；
  - 也用于描述各个表之间的关系；
- 定义主键的要求：
  - 每行的主键值不能为`NULL`；
  - 主键值不得修改、重用；
  - 若将多列作为主键，则各列的组合值必须唯一（单个列的值允许相同）；



# 2. 检索数据

## 2.1 术语

|  英文   |  中文  | 释义 |
| :-----: | :----: | :--: |
| keyword | 关键字 |  -   |
|         |        |      |
|         |        |      |



## 2.2 检索

- 多条SQL语句以`；`分隔；

- SQL语句不区分大小写；

  - 将SQL关键字大写，列名和表名使用小写，提高代码可读性；

- 处理SQL语句时，忽略其中所有空格；
  - SQL语句可写在一行之中，也可写为多行；
  - 将SQL语句分成多行，易于阅读和调试；

- SQL一般返回原始的、无格式的数据；

- 按列检索：
  - 检索多列：用逗号分隔列名；
  ```mysql
  SELECT Prod_id, prod_name, prod_price 
  FROM Products;
  ```

  - 检索所有列：使用通配符；
    - 使用通配符可检测出列名未知的列；

  ```mysql
  SELECT *
  FROM Products;
  ```

- 检索不同的值：

  - 仅返回某一列中的值，每个不同的值仅显示一次；

  ```mysql
  SELECT DISTINCT vend_id
  FROM Products;
  ```

  - `DISTINCT`应置于列名之前，同时作用于多个列，会返回两列中的所有值，每个不同的值仅显示一次；

- 返回前若干行：不同的DBMS有不同的语法，以下语法仅针对MySQL；

  ```mysql
  SELECT prod_name
  FROM Products
  LIMIT 5;
  ```

  - 仅显示符合要求的前5行；

  ```mysql
  LIMIT 5 OFFSET 5;	-- MySQL支持简化版的 LIMIT 语句；
  LIMIT 3,4;			-- 第一个数字表示起始行，第二个数字表示需要返回的行数；
  ```

  - `OFFSET`后的数字表示起始行的编号，但检索时不包括该行，而是返回从下一行开始的检索结果；
    - 换言之，将该关键字后的行视为第0行，检索时仅返回从第1行开始的检索结果；

- 注释：

  ```mysql
  -- 两个连字符，实现行内注释；（多种 DBMS 支持该种形式的注释）
  #  一个井号，实现行内注释；（一小部分 DBMS 支持该种形式的注释）
  /* ... 多行注释 ... */ 
  ```

  

# References

[1] Ben Forta. SQL 必知必会[M]. 钟鸣, 刘晓霞 等译. 北京: 人民邮电出版社, 2013. ︎